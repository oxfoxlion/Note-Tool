# Work Log - 2026-02-08 (note_tool)

## Summary
- Built app shell and pages for cards/boards/settings
- Added Markdown view/edit with lightweight renderer
- Implemented card overlays and create/import flows
- Implemented board canvas with pan/zoom and card drag
- Added multi-select import from card box
- Simplified theme to light only (dark removed)
- Added toolbar icon set and richer Markdown styling
- Removed Settings page, moved open-mode toggle into card/board UI
- Updated boards list creation UX and card count display
- Added board tags (edit + filter/search)
- Added card linking with @ mentions (modal/sidepanel/full page)
- Added Markdown preview for board cards with scrollable content
- Added board card resize (width only) and edit controls UX updates

## UI/UX
- Sidebar layout with collapse
- Cards: list, search, preview, edit/view modal
- Boards: full-canvas view with tool palette
  - Modes: pan (left-drag), add (click to add, drag cards)
  - Zoom controls + mouse wheel zoom
  - Right tool palette
- Import flow: choose existing cards, batch import
- Confirm dialogs for delete/remove
- Boards list: floating “+” create button (bottom-right)
- Cards/Boards: open mode toggle (modal/sidepanel) in-page icons
- Sidepanel: content area shifts to avoid overlap
- Board tools: toggle button bottom-right expands/collapses tool palette
- Removed split mode in modal/sidepanel (full page retains split)
- Boards list shows card count instead of board ID

## API Integration
- Cards CRUD
- Boards CRUD + board card positions
- Boards tags (tags[] on board)
- User settings (save only light theme for now)
- Open mode preference persisted via user settings
- Card links derived from @ mentions (persisted on save)

## Files Touched
- `note_tool/app/(app)/layout.tsx`
- `note_tool/app/(app)/cards/page.tsx`
- `note_tool/app/(app)/boards/page.tsx`
- `note_tool/app/(app)/boards/[id]/page.tsx`
- `note_tool/components/CardOverlay.tsx`
- `note_tool/components/CardCreateOverlay.tsx`
- `note_tool/components/CardPreview.tsx`
- `note_tool/lib/noteToolApi.ts`
- `note_tool/app/globals.css`
- `note_tool/lib/markdownSanitize.ts`
- `note_tool/docs/SDD.md`
- `note_tool/README.md`
- `note_tool/app/(app)/cards/[id]/page.tsx`
- `note_tool/app/(app)/layout.tsx`

## Notes
- Run `npm install` after dependency changes
- Restart dev server after backend API changes

## TODO
1. 白板刪除功能
2. 卡片列表與白板內的摘要改為顯示 Markdown 編譯後的內容
3. 白板卡片內 Shift + 滾輪捲動內容無效（目前仍觸發白板縮放）
4. 卡片全頁 @ 提示下拉定位不穩定，會遮住游標或出現在視窗外
